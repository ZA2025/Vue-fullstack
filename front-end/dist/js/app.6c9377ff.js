(function(){"use strict";var t={1732:function(t,e,r){var o=r(7764),a=r(4108);const n={class:"page-wrap"};function s(t,e,r,o,s,i){const l=(0,a.E1)("nav-bar"),c=(0,a.E1)("router-view");return(0,a.Wz)(),(0,a.An)("div",null,[(0,a.K2)(l),(0,a.QD)("div",n,[(0,a.K2)(c)])])}var i=r(9096);const l={class:"nav-bar"},c={class:"logo-wrap"},u=["src"],d={class:"cart-link-container"},m={key:0,class:"cart-button"},p={key:0,class:"cart-button"},g={key:1,class:"userName"};function h(t,e,r,o,n,s){const h=(0,a.E1)("router-link");return(0,a.Wz)(),(0,a.An)("div",l,[(0,a.K2)(h,{to:"/products",class:"product-link"},{default:(0,a.Ql)((()=>[(0,a.QD)("div",c,[(0,a.QD)("img",{src:n.logo},null,8,u)])])),_:1}),(0,a.QD)("div",d,[(0,a.K2)(h,{to:"/cart",class:"cart-link"},{default:(0,a.Ql)((()=>[n.isLoggedIn?((0,a.Wz)(),(0,a.An)("button",m,"Cart")):(0,a.g1)("",!0)])),_:1}),(0,a.K2)(h,{to:"/login",class:"cart-link"},{default:(0,a.Ql)((()=>[n.isLoggedIn?(0,a.g1)("",!0):((0,a.Wz)(),(0,a.An)("button",p,"Login"))])),_:1}),n.isLoggedIn?((0,a.Wz)(),(0,a.An)("button",{key:0,class:"cart-button",onClick:e[0]||(e[0]=(...t)=>s.logout&&s.logout(...t))}," Logout ")):(0,a.g1)("",!0),n.email?((0,a.Wz)(),(0,a.An)("span",g,"Hi, "+(0,i.WA)(this.email),1)):(0,a.g1)("",!0)])])}r(3248);var f=r(2964),v=r.p+"img/logo-hexagon.d2768201.svg",w={name:"NavBar",data(){return{logo:v,isLoggedIn:!!localStorage.getItem("token"),email:localStorage.getItem("email")}},components:{},methods:{async logout(){try{const t=await f.c.post("/api/logout");localStorage.removeItem("token"),localStorage.removeItem("email"),localStorage.removeItem("userId"),this.isLoggedIn=!1,this.$router.push("/login"),console.log(t)}catch(t){console.error("There was an error!",t)}},async login(){try{const t=await f.c.post("/api/login",{email:this.email,password:this.password});"Sign in successful"===t.data.message?(console.log(t.data),console.log(t.data),localStorage.setItem("token",t.data.token),localStorage.setItem("email",t.data.user.email),localStorage.setItem("userId",t.data.user.id),this.$router.push("/products")):alert("Invalid email or password.")}catch(t){console.error("There was an error!",t)}}},watch:{$route:function(){this.isLoggedIn=!!localStorage.getItem("token"),this.email=localStorage.getItem("email")}}},y=r(4100);const I=(0,y.c)(w,[["render",h]]);var b=I,k={name:"App",components:{NavBar:b}};const A=(0,y.c)(k,[["render",s]]);var Q=A,D=r(7464);const W=(0,a.QD)("h1",null,"Shopping Cart",-1),S={key:0},z={key:0,class:"checkout-button"},C={key:1};function E(t,e,r,o,n,s){const i=(0,a.E1)("shopping-cart-list");return(0,a.Wz)(),(0,a.An)("div",null,[W,n.cartItems.length>0?((0,a.Wz)(),(0,a.An)("div",S,[(0,a.K2)(i,{cartItems:n.cartItems,onRemoveFromCart:e[0]||(e[0]=t=>s.removeFromCart(t))},null,8,["cartItems"]),0!=n.cartItems.length?((0,a.Wz)(),(0,a.An)("button",z," Checkout ")):(0,a.g1)("",!0)])):(0,a.g1)("",!0),0===n.cartItems.length?((0,a.Wz)(),(0,a.An)("div",C," You current have no items in your cart! ")):(0,a.g1)("",!0)])}const P=["src"],L={class:"details-wrap"},O=["onClick"];function T(t,e,r,o,n,s){return(0,a.Wz)(),(0,a.An)("div",null,[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(r.cartItems,(e=>((0,a.Wz)(),(0,a.An)("div",{class:"product-container",key:e.id},[(0,a.QD)("img",{class:"product-image",src:e.imageName},null,8,P),(0,a.QD)("div",L,[(0,a.QD)("h3",null,(0,i.WA)(e.name),1),(0,a.QD)("p",null,(0,i.WA)(e.price),1)]),(0,a.QD)("button",{onClick:r=>t.$emit("remove-from-cart",e.id),class:"remove-button"}," Remove from Cart ",8,O)])))),128))])}var $={name:"ShoppingCartList",props:{cartItems:{type:Array,required:!0}}};const _=(0,y.c)($,[["render",T]]);var F=_,K={name:"ShoppingCartPage",data(){return{cartItems:[],userId:localStorage.getItem("userId")}},methods:{async removeFromCart(t){try{const e=await f.c.delete(`/api/users/${this.userId}/cart/${t}`),r=e.data;this.cartItems=r.filter((t=>null!==t))}catch(e){console.error("There was an error!",e)}}},components:{ShoppingCartList:F},async created(){const t=await f.c.get(`/api/users/${this.userId}/cart`),e=t.data;null!==e&&(this.cartItems=e.filter((t=>null!==t)),console.log(this.cartItems))}};const N=(0,y.c)(K,[["render",E]]);var j=N;const x=(0,a.QD)("h1",null,"Products",-1),R={class:"grid-wrap"};function M(t,e,r,o,n,s){const i=(0,a.E1)("products-list");return(0,a.Wz)(),(0,a.An)("div",null,[x,(0,a.QD)("div",R,[(0,a.K2)(i,{products:n.products},null,8,["products"])])])}const V={class:"grid-wrap"},q=["src"],U=(0,a.QD)("button",null,"View Details",-1);function Y(t,e,r,o,n,s){const l=(0,a.E1)("router-link");return(0,a.Wz)(),(0,a.An)("div",V,[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(r.products,(t=>((0,a.Wz)(),(0,a.An)("div",{class:"product-item",key:t.id},[(0,a.QD)("img",{src:t.imageName},null,8,q),(0,a.QD)("h3",null,(0,i.WA)(t.name),1),(0,a.QD)("p",null,(0,i.WA)(t.price),1),(0,a.K2)(l,{to:`/products/${t.id}`},{default:(0,a.Ql)((()=>[U])),_:2},1032,["to"])])))),128))])}var B={name:"ProductsList",props:{products:{type:Array,required:!0}}};const H=(0,y.c)(B,[["render",Y]]);var G=H,J={name:"ProductsPage",data(){return{products:[],email:localStorage.getItem("email")}},components:{ProductsList:G},async created(){try{const t=await f.c.get("/api/products");this.products=t.data}catch(t){console.error("There was an error!",t)}}};const X=(0,y.c)(J,[["render",M]]);var Z=X;const tt={key:0},et={class:"img-wrap"},rt=["src"],ot={class:"product-details"},at={class:"price"},nt={key:1,class:"grey-button"},st={key:0,class:"notificationMsg"},it={key:1};function lt(t,e,r,o,n,s){const l=(0,a.E1)("NotFoundPage");return n.product?((0,a.Wz)(),(0,a.An)("div",tt,[(0,a.QD)("div",et,[(0,a.QD)("img",{src:n.product.imageName},null,8,rt)]),(0,a.QD)("div",ot,[(0,a.QD)("h1",null,(0,i.WA)(n.product.name),1),(0,a.QD)("h3",at,(0,i.WA)(n.product.price),1),s.itemIsInCart?(0,a.g1)("",!0):((0,a.Wz)(),(0,a.An)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>s.addToCart&&s.addToCart(...t)),class:"add-to-cart"}," Add to Cart ")),s.itemIsInCart?((0,a.Wz)(),(0,a.An)("button",nt," Item already in card ")):(0,a.g1)("",!0)]),n.message.length>0?((0,a.Wz)(),(0,a.An)("div",st,(0,i.WA)(n.message),1)):(0,a.g1)("",!0)])):((0,a.Wz)(),(0,a.An)("div",it,[(0,a.K2)(l)]))}function ct(t,e,r,o,n,s){return(0,a.Wz)(),(0,a.An)("h1",null,"404: Page Not Found")}var ut={name:"NotFoundPage"};const dt=(0,y.c)(ut,[["render",ct]]);var mt=dt,pt={name:"productDetailPage",data(){return{product:{},cartItems:[],userId:localStorage.getItem("userId"),message:""}},computed:{isLoggedIn(){return!!localStorage.getItem("token")},itemIsInCart(){return this.cartItems.some((t=>null!==t&&t.id===this.$route.params.id))}},methods:{async addToCart(){if(this.isLoggedIn)try{await f.c.post(`/api/users/${this.userId}/cart`,{id:this.$route.params.id}),alert("Added to cart!"),this.message="Added to cart!"}catch(t){console.error("There was an error!",t)}else alert("You must be logged in to add items to the cart!")}},components:{NotFoundPage:mt},async created(){try{const t=await f.c.get(`/api/products/${this.$route.params.id}`);this.product=t.data}catch(t){console.error("There was an error!",t)}}};const gt=(0,y.c)(pt,[["render",lt]]);var ht=gt;const ft={class:"formContainer"},vt=(0,a.QD)("h1",null,"Register here:",-1),wt={class:"form-group"},yt=(0,a.QD)("label",{for:"email"},"Email address",-1),It={key:0,class:"error"},bt={class:"form-group"},kt=(0,a.QD)("label",{for:"password"},"Password",-1),At={key:0,class:"error"},Qt=(0,a.QD)("button",{type:"submit"},"Register",-1);function Dt(t,e,r,n,s,l){return(0,a.Wz)(),(0,a.An)("div",ft,[vt,(0,a.QD)("form",{onSubmit:e[2]||(e[2]=(0,o.Y7)(((...t)=>l.register&&l.register(...t)),["prevent"])),class:"registerForm"},[(0,a.QD)("div",wt,[yt,(0,a.wt)((0,a.QD)("input",{for:"email1",type:"email","onUpdate:modelValue":e[0]||(e[0]=t=>s.email=t),placeholder:"Email",class:"form-control"},null,512),[[o.Og,s.email]]),s.emailError?((0,a.Wz)(),(0,a.An)("div",It,(0,i.WA)(s.emailError),1)):(0,a.g1)("",!0)]),(0,a.QD)("div",bt,[kt,(0,a.wt)((0,a.QD)("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),placeholder:"Password",class:"form-control"},null,512),[[o.Og,s.password]]),s.passwordError?((0,a.Wz)(),(0,a.An)("div",At,(0,i.WA)(s.passwordError),1)):(0,a.g1)("",!0)]),Qt],32)])}var Wt={name:"RegisterPage",data(){return{email:"",password:"",emailError:"",passwordError:""}},methods:{async register(){let t=!1;if(this.emailError="",this.passwordError="",this.email.includes("@")||(this.emailError="Please enter a valid email address.",t=!0),(this.password.length<8||""===this.password)&&(this.passwordError="Password must be at least 8 characters long.",t=!0),!t)try{const t=await f.c.get("/api/users"),e=t.data,r=e.filter((t=>t.email===this.email));if(r.length>0)return void(this.emailError="Email already registered.");await f.c.post("/api/users",{email:this.email,password:this.password}),alert("Registered!"),this.email="",this.password=""}catch(e){console.error("There was an error!",e)}}}};const St=(0,y.c)(Wt,[["render",Dt]]);var zt=St;const Ct={class:"formContainer"},Et=(0,a.QD)("h1",null,"Login here:",-1),Pt=(0,a.QD)("span",null,"test@test.com",-1),Lt=(0,a.QD)("span",null,"test1234",-1),Ot=(0,a.QD)("button",{type:"submit"},"Login",-1),Tt=(0,a.QD)("a",{href:"/login",class:"login-link"},"Register",-1);function $t(t,e,r,n,s,i){const l=(0,a.E1)("router-link");return(0,a.Wz)(),(0,a.An)("div",Ct,[Et,(0,a.QD)("form",{onSubmit:e[2]||(e[2]=(0,o.Y7)(((...t)=>i.login&&i.login(...t)),["prevent"])),class:"loginForm"},[Pt,(0,a.wt)((0,a.QD)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>s.email=t),placeholder:"email",required:""},null,512),[[o.Og,s.email]]),Lt,(0,a.wt)((0,a.QD)("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),placeholder:"Password",required:""},null,512),[[o.Og,s.password]]),Ot,(0,a.K2)(l,{to:"/register",class:"cart-link"},{default:(0,a.Ql)((()=>[Tt])),_:1})],32)])}var _t={name:"LoginPage",data(){return{email:"",password:""}},methods:{async login(){try{const t=await f.c.post("/api/login",{email:this.email,password:this.password});"Sign in successful"===t.data.message?(console.log(t.data),console.log(t.data),localStorage.setItem("token",t.data.token),localStorage.setItem("email",t.data.user.email),localStorage.setItem("userId",t.data.user.id),this.$router.push("/products")):alert("Invalid email or password.")}catch(t){console.error("There was an error!",t)}}}};const Ft=(0,y.c)(_t,[["render",$t]]);var Kt=Ft;(0,o.W0)(Q).use(D.gv({history:D.oz(),routes:[{path:"/products",component:Z},{path:"/cart",component:j},{path:"/register",component:zt},{path:"/login",component:Kt,beforeEnter:(t,e,r)=>{localStorage.getItem("token")?r({path:"/products"}):r()}},{path:"/products/:id",component:ht},{path:"/",redirect:"/products"},{path:"/:pathMatch(.*)*",component:mt}]})).mount("#app")}},e={};function r(o){var a=e[o];if(void 0!==a)return a.exports;var n=e[o]={exports:{}};return t[o].call(n.exports,n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,o,a,n){if(!o){var s=1/0;for(u=0;u<t.length;u++){o=t[u][0],a=t[u][1],n=t[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||s>=n)&&Object.keys(r.O).every((function(t){return r.O[t](o[l])}))?o.splice(l--,1):(i=!1,n<s&&(s=n));if(i){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[o,a,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,n,s=o[0],i=o[1],l=o[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)var u=l(r)}for(e&&e(o);c<s.length;c++)n=s[c],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(u)},o=self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[999],(function(){return r(1732)}));o=r.O(o)})();
//# sourceMappingURL=app.6c9377ff.js.map