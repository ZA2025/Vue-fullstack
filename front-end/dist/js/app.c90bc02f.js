(function(){"use strict";var t={3932:function(t,r,e){var n=e(7764),o=e(4108);const a={class:"page-wrap"};function s(t,r,e,n,s,c){const i=(0,o.E1)("nav-bar"),u=(0,o.E1)("router-view");return(0,o.Wz)(),(0,o.An)("div",null,[(0,o.K2)(i,{user:s.user},null,8,["user"]),(0,o.QD)("div",a,[(0,o.K2)(u,{user:s.user},null,8,["user"])])])}var c=e(1504);const i={class:"nav-bar"},u={class:"logo-wrap"},l=["src"],d={class:"nav-buttons-wrap"},p=(0,o.QD)("button",null,"Shopping Cart",-1);function m(t,r,e,n,a,s){const c=(0,o.E1)("router-link");return(0,o.Wz)(),(0,o.An)("div",i,[(0,o.K2)(c,{to:"/products",class:"product-link"},{default:(0,o.Ql)((()=>[(0,o.QD)("div",u,[(0,o.QD)("img",{src:a.logo},null,8,l)])])),_:1}),(0,o.QD)("div",d,[t.user?((0,o.Wz)(),(0,o.An)("button",{key:0,onClick:r[0]||(r[0]=(...t)=>s.signOut&&s.signOut(...t))},"Sign Out")):(0,o.g1)("",!0),(0,o.K2)(c,{to:"/cart"},{default:(0,o.Ql)((()=>[p])),_:1})])])}var v=e.p+"img/logo-hexagon.d2768201.svg",g={name:"NavBar",data(){return{logo:v}},methods:{signOut(){const t=(0,c.Iv)();(0,c.Az)(t)}}},h=e(4100);const f=(0,h.c)(g,[["render",m]]);var y=f,w={name:"App",components:{NavBar:y},data(){return{user:null}},created(){const t=(0,c.Iv)();(0,c.E3)(t,(t=>{this.user=t}))}};const b=(0,h.c)(w,[["render",s]]);var I=b,A=e(7464);const k=(0,o.QD)("h1",null,"Shopping Cart",-1),W={key:0},C={key:0,class:"checkout-button"},D={key:1};function Q(t,r,e,n,a,s){const c=(0,o.E1)("shopping-cart-list");return(0,o.Wz)(),(0,o.An)("div",null,[k,a.cartItems.length>0?((0,o.Wz)(),(0,o.An)("div",W,[(0,o.K2)(c,{cartItems:a.cartItems,onRemoveFromCart:r[0]||(r[0]=t=>s.removeFromCart(t))},null,8,["cartItems"]),0!=a.cartItems.length?((0,o.Wz)(),(0,o.An)("button",C," Checkout ")):(0,o.g1)("",!0)])):(0,o.g1)("",!0),0===a.cartItems.length?((0,o.Wz)(),(0,o.An)("div",D," You current have no items in your cart! ")):(0,o.g1)("",!0)])}var z=e(9096);const S=["src"],P={class:"details-wrap"},O=["onClick"];function $(t,r,e,n,a,s){return(0,o.Wz)(),(0,o.An)("div",null,[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.cartItems,(r=>((0,o.Wz)(),(0,o.An)("div",{class:"product-container",key:r.id},[(0,o.QD)("img",{class:"product-image",src:r.imageUrl},null,8,S),(0,o.QD)("div",P,[(0,o.QD)("h3",null,(0,z.WA)(r.name),1),(0,o.QD)("p",null,(0,z.WA)(r.price),1)]),(0,o.QD)("button",{onClick:e=>t.$emit("remove-from-cart",r.id),class:"remove-button"}," Remove from Cart ",8,O)])))),128))])}var F={name:"ShoppingCartList",props:{cartItems:{type:Array,required:!0}}};const T=(0,h.c)(F,[["render",$]]);var j=T,E=e(2964),K={name:"ShoppingCartPage",data(){return{cartItems:[],props:["user"]}},components:{ShoppingCartList:j},watch:{async user(t){if(t){const r=await E.c.get(`/api/users/${t.uid}/cart`),e=r.data;this.cartItems=e}}},methods:{async removeFromCart(t){try{const r=await E.c.delete(`/api/users/12345/cart/${t}`),e=r.data;this.cartItems=e.filter((t=>null!==t))}catch(r){console.error("There was an error!",r)}}},async created(){const t=await E.c.get(`/api/users/${this.user.uid}/cart`),r=t.data;null!==r&&this.user&&(this.cartItems=r.filter((t=>null!==t)))}};const _=(0,h.c)(K,[["render",Q]]);var N=_;const x=(0,o.QD)("h2",null,"Products",-1),G={class:"grid-wrap"};function L(t,r,e,n,a,s){const c=(0,o.E1)("products-list");return(0,o.Wz)(),(0,o.An)("div",null,[x,(0,o.QD)("div",G,[(0,o.K2)(c,{products:a.products},null,8,["products"])])])}const M={class:"grid-wrap"},Y=["src"],B=(0,o.QD)("button",null,"View Details",-1);function q(t,r,e,n,a,s){const c=(0,o.E1)("router-link");return(0,o.Wz)(),(0,o.An)("div",M,[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.products,(t=>((0,o.Wz)(),(0,o.An)("div",{class:"product-item",key:t.id},[(0,o.QD)("img",{src:t.imageName},null,8,Y),(0,o.QD)("h3",null,(0,z.WA)(t.name),1),(0,o.QD)("p",null,(0,z.WA)(t.price),1),(0,o.K2)(c,{to:`/products/${t.id}`},{default:(0,o.Ql)((()=>[B])),_:2},1032,["to"])])))),128))])}var R={name:"ProductsList",props:{products:{type:Array,required:!0}}};const U=(0,h.c)(R,[["render",q]]);var V=U;const Z="https://full-stack-vue-deployment-7ss0.onrender.com";var H={name:"ProductsPage",data(){return{products:[]}},components:{ProductsList:V},async created(){try{const t=await E.c.get(`${Z}/api/products`);this.products=t.data}catch(t){console.error("There was an error!",t)}}};const J=(0,h.c)(H,[["render",L]]);var X=J;const tt={key:0},rt={class:"img-wrap"},et=["src"],nt={class:"product-details"},ot={class:"price"},at={key:1,class:"grey-button"},st={key:1};function ct(t,r,e,n,a,s){const c=(0,o.E1)("NotFoundPage");return a.product?((0,o.Wz)(),(0,o.An)("div",tt,[(0,o.QD)("div",rt,[(0,o.QD)("img",{src:a.product.imageName},null,8,et)]),(0,o.QD)("div",nt,[(0,o.QD)("h1",null,(0,z.WA)(a.product.name),1),(0,o.QD)("h3",ot,(0,z.WA)(a.product.price),1),t.user&&!s.itemIsInCart?((0,o.Wz)(),(0,o.An)("button",{key:0,onClick:r[0]||(r[0]=(...t)=>s.addToCart&&s.addToCart(...t)),class:"add-to-cart"}," Add to Cart ")):(0,o.g1)("",!0),t.user&&s.itemIsInCart?((0,o.Wz)(),(0,o.An)("button",at," Item already in card ")):(0,o.g1)("",!0),t.user?(0,o.g1)("",!0):((0,o.Wz)(),(0,o.An)("button",{key:2,class:"sign-in",onClick:r[1]||(r[1]=(...t)=>s.signIn&&s.signIn(...t))}," Sign in to add to cart "))])])):((0,o.Wz)(),(0,o.An)("div",st,[(0,o.K2)(c)]))}function it(t,r,e,n,a,s){return(0,o.Wz)(),(0,o.An)("h1",null,"404: Page Not Found")}var ut={name:"NotFoundPage"};const lt=(0,h.c)(ut,[["render",it]]);var dt=lt;const pt="https://full-stack-vue-deployment-7ss0.onrender.com";var mt={name:"productDetailPage",prop:["user"],data(){return{product:{},cartItems:[]}},computed:{itemIsInCart(){return this.cartItems.some((t=>null!==t&&t.id===this.$route.params.id))}},watch:{async user(t){if(t){const r=await E.c.get(`${pt}/api/users/${t.uid}/cart`);this.cartItems=r.data}}},methods:{async addToCart(){try{await E.c.post(`/api/users/${this.user.uid}/cart`,{id:this.$route.params.id}),alert("Added to cart!")}catch(t){console.error("There was an error!",t)}},async signIn(){const t=prompt("Please enter your email"),r=(0,c.Iv)(),e={url:`https://full-stack-vue-deployment-7ss0.onrender.com/products/${this.$route.params.id}`,handleCodeInApp:!0};await(0,c.Wy)(r,t,e),alert(`An email has been sent to ${t}. Click the link to sign in.`),window.localStorage.setItem("emailForSignIn",t)}},components:{NotFoundPage:dt},async created(){const t=(0,c.Iv)();if((0,c.G6)(t,window.location.href)){let r=window.localStorage.getItem("emailForSignIn");r||(r=window.prompt("Please provide your email for confirmation")),await(0,c.Gm)(t,r,window.location.href),alert("You have been signed in!"),window.localStorage.removeItem("emailForSignIn")}try{const t=await E.c.get(`/api/products/${this.$route.params.id}`);if(this.product=t.data,this.user){const t=await E.c.get(`/api/users/${this.user.uid}/cart`);this.cartItems=t.data}}catch(r){console.error("There was an error!",r)}}};const vt=(0,h.c)(mt,[["render",ct]]);var gt=vt,ht=e(8508);const ft={apiKey:"AIzaSyC2kYfmvlY3s1W46tDmZ6F66m6GPo9GnGU",authDomain:"vue-site-8bd32.firebaseapp.com",projectId:"vue-site-8bd32",storageBucket:"vue-site-8bd32.appspot.com",messagingSenderId:"207298039126",appId:"1:207298039126:web:01cbd493fbfc8a1fbedaf7"};(0,ht.mg)(ft),(0,n.W0)(I).use(A.gv({history:A.oz(),routes:[{path:"/products",component:X},{path:"/cart",component:N},{path:"/products/:id",component:gt},{path:"/",redirect:"/products"},{path:"/:pathMatch(.*)*",component:dt}]})).mount("#app")}},r={};function e(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return t[n].call(a.exports,a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(r,n,o,a){if(!n){var s=1/0;for(l=0;l<t.length;l++){n=t[l][0],o=t[l][1],a=t[l][2];for(var c=!0,i=0;i<n.length;i++)(!1&a||s>=a)&&Object.keys(e.O).every((function(t){return e.O[t](n[i])}))?n.splice(i--,1):(c=!1,a<s&&(s=a));if(c){t.splice(l--,1);var u=o();void 0!==u&&(r=u)}}return r}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,o,a]}}(),function(){e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,{a:r}),r}}(),function(){e.d=function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={524:0};e.O.j=function(r){return 0===t[r]};var r=function(r,n){var o,a,s=n[0],c=n[1],i=n[2],u=0;if(s.some((function(r){return 0!==t[r]}))){for(o in c)e.o(c,o)&&(e.m[o]=c[o]);if(i)var l=i(e)}for(r&&r(n);u<s.length;u++)a=s[u],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(l)},n=self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=e.O(void 0,[999],(function(){return e(3932)}));n=e.O(n)})();
//# sourceMappingURL=app.c90bc02f.js.map